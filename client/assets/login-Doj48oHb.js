import{w as d,z as g,r as p,j as e}from"./chunk-PVWAREVJ-DWcv-4mX.js";import{u as x,F as f,s as i}from"./index.esm-CowvRyHL.js";const b=l=>{const{username:r,password:o}=l;console.log(o);const n={name:r,password:localStorage[r]||null},t=JSON.stringify(n)===JSON.stringify({name:r,password:o});return console.log(t),localStorage.setItem("isLogin",JSON.stringify(t)),t};JSON.stringify(localStorage.getItem("isLogin"));const h=()=>{const l=g(),{register:r,handleSubmit:o,setError:n,formState:{errors:t},control:u}=x({defaultValues:{username:"",password:""},criteriaMode:"all"}),c=s=>{console.log(s);const a=b(s);console.log(a),a&&l("/home")};return p.useEffect(()=>{n("username",{message:"invalid"})},[n]),e.jsxs(f,{className:"flex flex-col gap-[1rem] w-[100%]",control:u,onSubmit:o(c),validateStatus:s=>s===200,children:[e.jsxs("div",{className:"flex flex-col border-b  p-[1rem] gap-0.5",children:[e.jsx("label",{htmlFor:"username",children:"Username:"}),e.jsx("input",{className:"border rounded-2xl pl-3 ",type:"text",...r("username",{required:{value:!0,message:"must be required"},minLength:{value:2,message:"must contain at least 2 letters"}}),placeholder:" username",id:"username"}),e.jsx(i,{errors:t,name:"username",render:({messages:s})=>s&&Object.entries(s).map(([a,m])=>e.jsx("span",{className:"text-red-700 text-[.5em]",children:m},a))})]}),e.jsxs("div",{className:"flex flex-col border-b  p-[1rem] gap-0.5",children:[e.jsx("label",{htmlFor:"",children:"Password:"}),e.jsx("input",{className:"border rounded-2xl pl-3",type:"text",...r("password",{required:{value:!0,message:"must be  required"},minLength:{value:8,message:"must contain at least 8 letters"},maxLength:{value:16,message:"must contain at max 16 letters"}}),placeholder:" password"}),e.jsx(i,{errors:t,name:"password",render:({messages:s})=>s&&Object.entries(s).map(([a,m])=>e.jsx("span",{className:"text-red-700 text-[.5em] pt-0.5",children:m},a))})]}),e.jsx("input",{className:"border rounded-2xl mt-[1rem]  p-[.5rem] cursor-pointer ",type:"submit",value:"Sing In"})]})},S=d(h);export{S as default};
